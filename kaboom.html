<!DOCTYPE html>
<html>
    <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" />
        <link href="style.css" rel="stylesheet" type="text/css" />
        <style>
            /* CSS */

        </style>

        <title>Title</title>
    </head>
    <body>
        <!-- HTML -->


        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://unpkg.com/kaboom@3000.0.1/dist/kaboom.js"></script>

        <!-- <script src="script.js"></script> -->
        <script type="module">

            // import kaboom.js
            import kaboom from "https://unpkg.com/kaboom@3000.0.1/dist/kaboom.mjs";

            // initialize kaboom context
            kaboom();

            setGravity(2400)
            loadSprite("player", "img/apple.png");

            let SPEED = 800;
     const player = add([
    sprite("player"),
    pos(100, 100),
    area(),
    body(),
    ]);


    onKeyPress("space", () => {
    player.jump()
})

add([
    rect(width(), 48), // renders a rectangle. It accepts 2 arguments, the width and height, which we give it the game width (returned by width()) and height of 48 pixels
    pos(0, height() - 48), // pos() position. We give it a x: 0 and y: height() - 48 so it sits right on the bottom of the screen
    outline(4), // renders an outline of 4 pixels
    area(), //  adds a collider to it
    body({ isStatic: true }), // the object won't move, and all non static objects won't move past it
    color(127, 200, 255),
])

onKeyDown("right", () => {
	player.move(SPEED, 0)
})
onKeyDown("left", () => {
	player.move(-SPEED, 0)
})

onKeyDown("up", () => {
    player.move(0, -SPEED)
})

onKeyDown("down", () => {
    player.move(0, SPEED)
})


loadSprite("enemy", "img/enemy.png");







const enemy = add([
    sprite("enemy"),
    pos(200, 100),
    area(),
    body(),
    body({ isStatic: true }),
    "enemy"
]);

player.onCollide("enemy", () => {
    console.log("Ouch!");
    addKaboom(player.pos);
});

</script>

